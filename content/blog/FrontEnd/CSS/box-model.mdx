---
title: CSS 盒子模型
date: 2021-02-02 19:28:48
cover: https://cdn.jsdelivr.net/gh/Wangbaoqi/blogImgs@master/nateImgs/css/css-inherit.png
tags: 
  - css
categories: css
---


box model(盒子、块、框模型)通常被描述为**DOM树**中的**元素**，并且这些**元素**被[视觉格式化模型]()转化为一个个的`矩形框（也称之为盒子）`

## 盒子尺寸

盒子尺寸包含了`content`、`padding`、`border`和`margin`，将其每一个称之为`edge`，`padding`、`border`和`margin`在四个方向都有对应的属性来设置其对应的值。也可以通过合并属性来统一设置。而`content` 区域则是盒子的内容区域。

![](https://cdn.jsdelivr.net/gh/Wangbaoqi/blogImgs@master/nateImgs/css/box-size.png)

在不同的渲染引擎中，盒子的尺寸也不同。

在**IE**中，给一个元素设置的`width`和`height`，则是整个盒子的尺寸（包括`padding`等）。

在**标准渲染**中，元素的`width`和`height`则是盒子的`content edge`的尺寸。

`W3C`中规定了盒子的一个属性`box-sizing`，来控制盒子的尺寸如何计算。

```css
* {
  box-sizing: content-box | border-box 
}
```

`box-sizing`有两个属性，默认是`content-box`，也就是标准盒子渲染模式，盒子的尺寸`=content box + padding + border`，设置的`width`和`height`其实就是`content box`的尺寸；

另一个属性`border-box`，代表的是**IE盒子**模型，而使用该模型的好处是针对响应式设计，盒子的尺寸不会因为其*内边距*或者*边框*而改变。

## 盒子类型

盒子有不同的类型，而决定其类型的是`display`属性。

`display`可以控制元素在**外部**和**内部**的呈现方式。

**外部呈现类型**控制在`流式布局`中的展示，比如`block`或者`inline`;

**内部呈现类型**控制元素的子元素的展示方式，比如`flex`、`inline-flex`或者`grid`;

`display`的取值以关键字来规定，主要有**6**种方式

```css
.container {
  display:  [ <display-outside> | <display-inside> ] | <display-listitem> | <display-internal> | <display-box> | <display-legacy> ;
}
```

### 外部类型

1. 如果一个元素的`display`属性的值为`block`、`list-item`或者`table`，那么该元素是块级元素，形成的盒子为`块级盒子`。
2. 如果元素的`display`属性设置为`inline`，那么该元素是内联元素，产生的盒子为`内联盒子`
3. run-in 盒子

### 内部类型

1. `display`的属性为`flow(实验室阶段)`，元素使用`流/内联`来布局其内容
2. `display`的属性为`flow-root`，元素生成一个块元素框，建立一个新的`BFC`
3. `display`的属性为`flex`，其类似块元素，元素内部则按照`弹性规则`来布局
4. `display`的属性为`grid`，其类似块元素，元素内部则按照`网格模型`来布局
5. `display`的属性为`ruby(实验室阶段)`，类似于内联元素，元素内部则按照`ruby`来布局

### 列表类型

1. `display`的属性为`list-item`，使元素生成一个伪元素，其`::marker`值由`list-style`指定

### Internal

像`table`这种比较复杂的内部结构，子元素有不同的角色，而这一类型的关键字属性则表示其内部显示类型。

```css
display: table | table-cell | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-caption
```

### Box

**Box**类型决定是否使用`盒模型`

1. `display`为`contents(实验室阶段)`，当前元素不显示，但是其子元素会显示，因为当前元素不会被渲染。
2. `display`为`none`，当前元素以及其所有的子元素都不显示。而且在文档树中也不会展示，但是不影响布局。


## 外边距折叠







## 参考

* [MDN Box Model](https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/The_box_model)
* [W3C Box Model](https://www.w3.org/TR/css-box-3/#box-model)